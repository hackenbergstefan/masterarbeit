%% Basierend auf einer TeXnicCenter-Vorlage von Mark Müller
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Wählen Sie die Optionen aus, indem Sie % vor der Option entfernen  
% Dokumentation des KOMA-Script-Packets: scrguide

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Optionen zum Layout des Artikels                                  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[%
%a5paper,             % alle weiteren Papierformat einstellbar
%landscape,           % Querformat
%10pt,                % Schriftgröße (12pt, 11pt (Standard))
%BCOR1cm,             % Bindekorrektur, bspw. 1 cm
%DIVcalc,             % führt die Satzspiegelberechnung neu aus
%                       s. scrguide 2.4
%twoside,             % Doppelseiten
%twocolumn,           % zweispaltiger Satz
halfparskip*,       % Absatzformatierung s. scrguide 3.1
%headsepline,         % Trennline zum Seitenkopf  
%footsepline,         % Trennline zum Seitenfuß
titlepage,            % Titelei auf eigener Seite
%normalheadings,      % Überschriften etwas kleiner (smallheadings)
%idxtotoc,            % Index im Inhaltsverzeichnis
%liststotoc,          % Abb.- und Tab.verzeichnis im Inhalt
bibtotoc,           % Literaturverzeichnis im Inhalt
%abstracton,          % Überschrift über der Zusammenfassung an 
%leqno,               % Nummerierung von Gleichungen links
%fleqn,               % Ausgabe von Gleichungen linksbündig
%draft                % überlangen Zeilen in Ausgabe gekennzeichnet
DIV = 15,
headsepline,
openany,
BCOR=0.9cm,
pointlessnumbers,        %keine Punkte nach Überschriften
chapterprefix=true,
openright
]
{scrbook}
\synctex=1


%% Deutsche Anpassungen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
%\usepackage{anyfontsize}


%% UTF8 Anpassungen
\DeclareUnicodeCharacter{201E}{\glqq}
\DeclareUnicodeCharacter{201D}{\grqqnospace}


\usepackage{lmodern} %Type1-Schriftart für nicht-englische Texte

\usepackage{amsmath,amssymb,MnSymbol}
\usepackage{xcolor}


\usepackage[inline]{enumitem}
\setlist[enumerate]{label=(\arabic*)}

\usepackage{array}


%% Packages für Grafiken & Abbildungen %%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx} %%Zum Laden von Grafiken
%\usepackage{subfig} %%Teilabbildungen in einer Abbildung
\usepackage{calc}

\usepackage{tikz}
\usetikzlibrary{calc,positioning,backgrounds}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}
\usepackage{tikzpagenodes}
\usepackage{tikz-cd} %%PSTricks - nicht verwendbar mit pdfLaTeX
\usepackage[colorlinks=false, pdfborder={0 0 0}]{hyperref}
\usepackage[nameinlink,german]{cleveref}

\usepackage{listings}
\usepackage[automark]{scrpage2} % Headline styles 
\usepackage{xspace}

\usepackage{longtable}

%\usepackage{nomencl}
%\renewcommand{\nomname}{Liste der verwendeten Symbole}
%\makenomenclature


%% Listings setup %%%%%%%%%%%%%%%%
\lstset{
  mathescape = true,
  basicstyle = \small\normalfont\sffamily,
  frame = tb,
  framexleftmargin = 15pt,
% numbers = left,
  numberstyle = \tiny,
% numbersep = 5pt,
  breaklines = true,
  xleftmargin = 0.1\linewidth,
  xrightmargin = 0.1\linewidth,
  escapeinside = {(*}{*)},
  tabsize=3,
  morekeywords={if, and, or, is, then, else, endif, while, endwhile, for, from,
  to, do, endfor, Input, Output, Algorithmus, return},
  morecomment=[l]{//},
  columns=flexible
}


\lstnewenvironment{ccode}[1][]{%
  \lstset{ basicstyle = \small\normalfont\ttfamily,
  frame = tb,
  framexleftmargin = 15pt,
  numbers = left,
  numberstyle = \tiny,
  numbersep = 5pt,
  breaklines = true,
  xleftmargin = 26pt,
  xrightmargin = 15pt,
  escapeinside = {(*}{*)},
  tabsize=3,
  language=C,
  commentstyle=\color{gray}\small\itshape,
  keywordstyle={\color{mycol}},
  emphstyle={[1]\color{red}},
  emphstyle={[2]\color{blue}},
  emphstyle={[3]\color{green}},
  mathescape=true,#1}}{}

\lstnewenvironment{cexample}[1][]{%
  \lstset{ basicstyle = \small\normalfont\ttfamily,
  frame = none,
  %numbers = left,
  %numberstyle = \tiny,
  %numbersep = 5pt,
  breaklines = true,
  xleftmargin = 0pt,
  xrightmargin = 0pt,
  escapeinside = {(*}{*)},
  tabsize=3,
  language=C,
  commentstyle=\color{gray}\small\itshape,
  mathescape=true,#1}}{}

\lstnewenvironment{sagecode}[1][]{%
  \lstset{ basicstyle = \small\normalfont\ttfamily,
  frame = tb,
  framexleftmargin = 15pt,
  numbers = left,
  numberstyle = \tiny,
  numbersep = 5pt,
  breaklines = true,
  xleftmargin = 26pt,
  xrightmargin = 15pt,
  escapeinside = {$}{$},
  tabsize=3,
  language=Python,
  commentstyle=\color{gray}\small\itshape,
  keywordstyle={\color{mycol}},
  emphstyle={[1]\color{red}},
  emphstyle={[2]\color{blue}},
  emphstyle={[3]\color{green}},
  mathescape=true,#1}}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Style Anpassungen
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[sc]{mathpazo}
%\renewcommand{\sfdefault}{fav}
%\setkomafont{disposition}{\sffamily}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\colorlet{mycol}{red!50!black}
%% color correction for printing with Brother HL-3150CDW
\colorlet{mycol}{red!40!black} 

%% Theorems %%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikztheorems}
\newtikztheorem[
  style=elegantbreak,
  color=mycol,
  font header=\normalfont\sffamily\bfseries,
  counter zero=chapter,
  postskip=20pt
  ]{satz}{Satz}

\newtikztheorem[
  style=elegantbreak,
  color=mycol,
  font header=\normalfont\sffamily\bfseries,
  counter parent=satz,
  postskip=20pt
  ]{problem}{Problem}

\newtikztheorem[
  style=elegantbreak,
  color=mycol,
  font header=\normalfont\sffamily\bfseries,
  counter parent=satz,
  postskip=20pt
  ]{vermutung}{Vermutung}

\newtikztheorem[
  style=elegantbreak,
  color=mycol,
  font header=\normalfont\sffamily\bfseries,
  counter parent=satz,
  postskip=20pt
  ]{proposition}{Proposition}
  
  
\newtikztheorem[
  style=elegantbreak,
  color=mycol,
  font header=\normalfont\sffamily\bfseries,
  font body=\normalfont,
  counter parent=satz,
  postskip=20pt
  ]{definition}{Definition}

\newtikztheorem[
  style=elegantbreak,
  color=mycol,
  font header=\normalfont\sffamily\bfseries,
  font body=\normalfont,
  counter parent=satz,
  postskip=20pt
  ]{invariante}{Invariante}

\theoremstyle{plain}
\theorembodyfont{\itshape}
\newtheorem{lemma}[satz]{Lemma}
\newtheorem{kor}[satz]{Korollar}
\newtheorem{prop}[satz]{Proposition}
\newtheorem{algorithmus}[satz]{Algorithmus}

%Custom theorems
\makeatletter
\newenvironment{plainthm}[1]{\let\plthm\@undefined
\newtheorem{plthm}[satz]{#1} \begin{plthm}}{\end{plthm}}
\makeatother

\theoremstyle{plain}
\theoremheaderfont{\normalfont\sffamily\itshape}
\theorembodyfont{\normalfont}
%\theoremsymbol{{\color{gray}$\triangle$}}
\theoremsymbol{%
  \tikz[baseline]{
    \path[fill=gray] (0,0)--(1.3ex,0)--(1.3ex,1.3ex)--cycle;
    }}
\newtheorem{bemerkung}[satz]{Bemerkung}
\newtheorem{beispiel}[satz]{Beispiel}
                                     
\theoremstyle{plain}
\theoremheaderfont{\normalfont\sffamily\bfseries}
\theorembodyfont{\normalfont}                

\newtheorem{notation}[satz]{Notation}



%% Autoref Names %%%%%%%%%%%%%%%%%
\crefname{lemma}{Lemma}{Lemmas}
\crefname{equation}{Gleichung}{Gleichungen}
\crefname{definition}{Definition}{Definitionen}
\crefname{algorithmus}{Algorithmus}{Algorithmen}
\crefname{kor}{Korollar}{Korollare}
\crefname{satz}{Satz}{Sätze}

%% Amsmath options %%%%%%%%%%%%%%%%%
\numberwithin{equation}{chapter}
\allowdisplaybreaks

%% Pagestyle %%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{scrpage2}
\addtokomafont{pagenumber}{\sffamily\color{gray!50!black}}
\addtokomafont{pagehead}{\sffamily\upshape\color{gray!50!black}}
%\setheadwidth[0pt]{textwithmarginpar}}
\pagestyle{scrheadings}
\clearscrheadfoot
\setheadsepline{0pt}
\chead{\headmark}
\ohead[\myheadcmdempty]{\myheadcmd}
\ofoot{}

\def\myheadcmd{\tikz[remember picture]{
  \node[outer xsep=1pt, outer ysep=3pt, inner ysep=0pt,
    inner xsep=5pt, font=\sffamily] (a) {\pagemark};}%
    \tikz[remember picture, overlay]{
    %\ifthenelse{\isodd{\thepage}}{
    \ifthispageodd{
      \draw[gray,line width=1pt]
        ($(a.north west)+(0pt,0)$) |- ($(a.south east)+(-3pt,-3pt)$);
      \draw[gray] ($(a.south west)+(0pt,0pt)$)  -- 
        (a.south west -| current page text area.north west);
    }{%
      \draw[gray,line width=1pt]
        ($(a.north east)+(0pt,0)$) |- ($(a.south west)+(3pt,-3pt)$);
      \draw[gray] ($(a.south east)+(0pt,0pt)$)-- 
        (a.south east -| current page text area.north east);
    }%
  }%
}

\def\myheadcmdempty{\tikz[remember picture]{
  \node[outer xsep=1pt, outer ysep=3pt, inner ysep=0pt,
    inner xsep=5pt, font=\sffamily] (a) {\pagemark};}%
    \tikz[remember picture, overlay]{
    %\ifthenelse{\isodd{\thepage}}{
    \ifthispageodd{
      \draw[gray,line width=1pt]
        ($(a.north west)+(0pt,0)$) |- ($(a.south east)+(-3pt,-3pt)$);
    }{
      \draw[gray,line width=1pt]
        ($(a.north east)+(0pt,0)$) |- ($(a.south west)+(3pt,-3pt)$);
    }
  }
}

%% titlesec %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{titlesec}
  
\titleformat{\chapter}[display]%
  {\normalfont\sffamily\huge\bfseries\color{mycol!95}}%
  {\color{gray}\chaptertitlename~\thechapter}{0ex}{}

\titleformat{\section}[hang]%
  {\normalfont\sffamily\huge\bfseries\color{mycol!95}}%
  {\color{gray}\thesection\hspace{1ex}\raisebox{-0.1\baselineskip}{\rule{1pt}{.8\baselineskip}}}{1ex}{}

\titleformat{\subsection}[hang]%
  {\normalfont\sffamily\Large\bfseries\color{mycol!95}}%
  {\color{gray}\thesubsection\hspace{1ex}\raisebox{-0.1\baselineskip}{\rule{0.5pt}{.8\baselineskip}}}{1ex}{}

  
\titleformat{\subsubsection}[hang]%
  {\normalfont\sffamily\large\bfseries\color{mycol!95}}%
  {\color{gray}\thesubsubsection\hspace{1ex}\raisebox{-0.1\baselineskip}{\rule{0.5pt}{.8\baselineskip}}}{1ex}{}


%% Makros %%%%%%%%%%%%%%%%%%%%%%
\newcommand{\A}{\ensuremath \mathbb{A}}
\newcommand{\R}{\ensuremath \mathcal{R}}
\newcommand{\N}{\ensuremath \mathbb{N}}
\newcommand{\Q}{\ensuremath \mathbb{Q}}
\newcommand{\Z}{\ensuremath \mathbb{Z}}
\newcommand{\C}{\ensuremath \mathcal{C}}
\newcommand{\CN}{\ensuremath \mathcal{CN}}
\newcommand{\PN}{\ensuremath \mathcal{PN}}
\newcommand{\PCN}{\ensuremath \mathcal{PCN}}
\newcommand{\G}{\ensuremath \mathcal{G}}
\newcommand{\F}{\ensuremath \mathbb{F}}
\newcommand{\K}{\ensuremath \mathbb{K}}
\renewcommand{\P}{\ensuremath \mathbb{P}}
\newcommand{\Kb}{\ensuremath \overline K}
\renewcommand{\O}{\ensuremath \mathcal{O}}
\renewcommand{\L}{\ensuremath \mathcal{L}}
\renewcommand{\l}{\ensuremath \ell}
\renewcommand{\S}{\ensuremath\mathcal{S}}
\newcommand{\m}{\ensuremath \mathfrak{m}}
\newcommand{\speq}[1]{\ #1\ }
\newcommand{\const}{\ensuremath \mathrm{const}}
\newcommand{\divp}[1]{\ensuremath [#1]} %Divisorpunkt
\newcommand{\probn}[1]{{\sffamily #1}} %Problem Name
\newcommand{\obda}{{\small oBdA\space}}
\newcommand{\inv}{^{-1}}
\newcommand{\kl}[1]{^{(#1)}}
\newcommand{\sage}{\texttt{Sage}\xspace}
\newcommand{\cython}{\texttt{Cython}\xspace}
\newcommand{\python}{\texttt{Python}\xspace}
\newcommand{\Clang}{\texttt{C}\xspace}
\let\cal\mathcal
\newcommand{\lbr}{[}
\newcommand{\rbr}{]}

\let\div\undefined
\DeclareMathOperator{\charak}{char}
\DeclareMathOperator{\div}{div}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\summ}{sum}
\DeclareMathOperator{\comp}{\circ}
\DeclareMathOperator{\ggT}{ggT}
\DeclareMathOperator{\kgV}{kgV}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Div0}{Div^0}
\DeclareMathOperator{\Divv}{Div}
\DeclareMathOperator{\Pic0}{Pic^0}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Ord}{Ord}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\Nm}{Nm}
\DeclareMathOperator{\spann}{span}
\DeclareMathOperator{\ideal}{\triangleleft}
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\cl}{cl}


\newcommand{\funcdef}[1]{%
  \begin{array}[t]{>{\displaystyle}r>{\displaystyle}c>{\displaystyle}l}%
  #1\end{array}}

\renewcommand{\vec}[1]{\begin{bmatrix}#1\end{bmatrix}}

\let\grqqnospace\grqq
\renewcommand{\grqq}{\grqqnospace\space}

%% Others  %%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\?}{{\huge \color{red} ?}}
\newcommand{\TODO}{{\sffamily\bfseries\large \color{red} TODO}}

\newcommand{\overbox}[2]{\ensuremath\begin{array}[b]{c}%
\makebox[0pt]{\fbox{\scriptsize#2}}\\[-2pt]\text{\small$\downarrow$}\\[-3pt]%
{\displaystyle#1}\end{array}}%

\let\marginparold\marginpar
\renewcommand{\marginpar}[1]{%
  \marginparold[\raggedleft\scriptsize\sffamily #1]%
  {\raggedright\scriptsize\sffamily #1}}


%% Bibliographiestil %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[german=guillemets]{csquotes}
\usepackage[style=numeric,backend=biber,
  isbn=false,
  firstinits=true
  %articletitle=true,
  %sorting=nty
  ]{biblatex}
\addbibresource{bib.bib}
% makes volume of journal bold and adds colon
\DeclareFieldFormat[article]{volume}{\textbf{#1}}
\DeclareFieldFormat[article,incollection]{pages}{#1}
\DeclareFieldFormat[book]{publisher}{(#1)}
%\DeclareFieldFormat[article]{date}{\addcomma #1}
\DefineBibliographyStrings{ngerman}{%
  editors={(Hrsg.)\adddot},
  andothers={et al\adddot},
  byeditor={Hrsg.:}
}

\DeclareSourcemap{
  \maps[datatype=bibtex]{
    \map{
      \step[fieldsource=origvolume]
        \step[fieldset=usera,origfieldval]
    }
    \map{
      \step[fieldsource=origpages]
        \step[fieldset=userb,origfieldval]
    }
  }
}
\DeclareFieldFormat[customa]{usera}{\textbf{#1}}
\DeclareFieldFormat[customa]{origyear}{#1}
\DeclareFieldFormat[customa]{userb}{#1}
\DeclareFieldFormat[customa]{pages}{#1}


\DeclareBibliographyDriver{article}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{bytranslator+others}%
  \newunit\newblock
  \printfield{version}%
  \newunit\newblock
  %\usebibmacro{in:}%
  \usebibmacro{journal+issuetitle}%
  \newunit
  \usebibmacro{byeditor+others}%
  \newunit
  \usebibmacro{note+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{issn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \newunit\newblock
  \iftoggle{bbx:related}
    {\usebibmacro{related:init}%
     \usebibmacro{related}}
    {}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{book}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \newunit\newblock
  \iftoggle{bbx:related}
    {\usebibmacro{related:init}%
     \usebibmacro{related}}
    {}%
  \usebibmacro{finentry}}

\renewbibmacro*{editor+others}{%
  \ifboolexpr{
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }
    {\printnames{editor}%
     \setunit{\space}%
     \usebibmacro{editor+othersstrg}%
     \clearname{editor}}
    {}}


\DeclareBibliographyDriver{incollection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \newunit\newblock
  \iftoggle{bbx:related}
    {\usebibmacro{related:init}%
     \usebibmacro{related}}
    {}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{customa}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{journal}
  \newunit
  \printfield{usera}
  \addcomma\addspace
  \printfield{origyear}
  \addcomma\addspace
  \printfield{userb}
  \newunit\newblock
  %\usebibmacro{in:}%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \newunit\newblock
  \iftoggle{bbx:related}
    {\usebibmacro{related:init}%
     \usebibmacro{related}}
    {}%
  \usebibmacro{finentry}}

\newbibmacro*{publisher+location+date}{%
  %\printlist{location}%
  %\iflistundef{publisher}
    %{\setunit*{\addcomma\space}}
    %{\setunit*{\addcolon\space}}%
  \printlist{publisher}%
  \setunit*{\addcomma\space}%
  \printlist{location}
  \setunit*{\addcomma\space}%
  \usebibmacro{date}%
  \newunit}


\newbibmacro*{volume+number+eid}{%
  \printfield{volume}%
  \setunit*{\adddot}%
  \printfield{number}%
  \setunit{\addcomma\space}%
  \printfield{eid}}

\newbibmacro*{issue+date}{%
  %\printtext[parens]{%
    \iffieldundef{issue}
      {\setunit{\addcomma\space}%
       \usebibmacro{date}}
      {\printfield{issue}%
       \setunit*{\addspace}%
       \usebibmacro{date}}%
  %}%
  \newunit}


\newbibmacro{origvolume}{%
  \printfield{origvolume}%
  \setunit*{\adddot}%
  \printfield{orignumber}%
  \setunit{\addcomma\space}%
  \printfield{eid}}



\begin{document}

%% Trennungen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\frontmatter


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Ihr Artikel                                                       %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% eigene Titelseitengestaltung %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    
\begin{titlepage}
\thispagestyle{empty}
\newcommand{\Rule}{\rule{\textwidth}{1mm}}
\begin{center}\sffamily\bfseries
\LARGE\textcolor{gray}{Masterarbeit\\ im Studiengang Mathematik}
\par\vspace*{2cm}
\tikz[baseline]{ \node[anchor=base, minimum width=\textwidth,
  text=mycol,
  inner xsep=5pt,
  inner ysep=10pt,
  align=center,
  font=\Huge]
  (main title) {Theoretische und experimentelle\\ Untersuchungen
    zu Normalbasen\\ für Erweiterungen endlicher Körper};
  \draw[overlay, line width=1mm, gray,
    line cap=round]
    (main title.south west)
    ++(0,-10pt) -- +(\textwidth,0)
    (main title.north west)
    ++(0,10pt) -- +(\textwidth,0);
}
\vfill
\normalfont\sffamily\large vorgelegt von\par
\bfseries\LARGE Stefan Hackenberg
\vfill
\normalfont\sffamily\large am\\
\bfseries\Large Institut für Mathematik\\
\normalfont\sffamily\large der\\
\bfseries\Large Universität Augsburg
\vfill
\normalfont\sffamily\large Erstprüfer \\
\bfseries\Large Prof. Dr. Dirk Hachenberger\par
\vspace*{0.3cm}
\normalfont\sffamily\large Zweitprüfer \\
\bfseries\Large Prof. Dr. Dieter Jungnickel\par
\vfill
\bfseries\Large Dezember 2014
\end{center}
\end{titlepage}


%% Angaben zur Standardformatierung des Titels %%%%%%%%%%%%%%%%%%%%%%%%
%\titlehead{Titelkopf }
%\and{Der Name des Co-Autoren}
%\thanks{Fußnote}     % entspr. \footnote im Fließtext
%\date{}              % falls anderes, als das aktuelle gewünscht

%% Widmungsseite %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\maketitle             % Titelei wird erzeugt

%% Zusammenfassung nach Titel, vor Inhaltsverzeichnis %%%%%%%%%%%%%%%%%
%\begin{abstract}
% Für eine kurze Zusammenfassung des folgenden Artikels.
% Für die Überschrift s. \documentclass[abstracton].
%\end{abstract}


\cleardoubleemptypage
\tableofcontents


%% Der Text %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoubleemptypage

\input{intro}


\mainmatter
%\printnomenclature

\input{symbols}
\input{grundbegriffe}
\input{kreisteilungspolynome}
\input{moduln}
\input{normalbasen}
\input{vollst-normalbasen}
\input{enumeration}
\input{implementierung}
\input{extro}

\clearpage
\addcontentsline{toc}{chapter}{Listings}
\lstlistoflistings

\nocite{*}
\printbibliography


\appendix
\input{anhang}
\input{anhang-cd}


%\input{anhang2}



%\chapter{\texttt{Sage}-Quellcodes}
%\lstset{language=python,
  %basicstyle = \footnotesize\normalfont\ttfamily,
  %commentstyle = \itshape\color{gray},
  %caption ={\lstname},
  %frame = tb,
  %framexleftmargin = 0pt,
  %numbers = left,
  %numberstyle = \tiny,
%% numbersep = 5pt,
  %breaklines = true,
  %xleftmargin = 0.1\linewidth,
  %xrightmargin = 0.1\linewidth,
  %showstringspaces=false,
  %columns=fullflexible,
  %tabsize=3}

%\lstinputlisting{../Sage/algorithmen.spyx}
%\lstinputlisting{../Sage/examples/scheerhorn1.sage}
%\lstinputlisting{../Sage/examples/satz1.sage}
%\lstinputlisting{../Sage/examples/satz1_1.sage}
%\lstinputlisting{../Sage/examples/satz2.sage}


%\addchap{Fragen 1}
%\input{fragen1}

%\addchap*{Fragen 2014-12-04}
%\input{fragen2}

\end{document}
