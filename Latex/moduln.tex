\chapter{Moduln}

\section{Über Moduln über Hauptidealbereichen}

Nähern wir uns der Situation von Normalbasen in möglichst allgemeiner Form, so
beginnt die Reise bei der Betrachtung von Moduln über Hauptidealbereichen. Dazu
wiederholen wir die wichtigsten Definitionen und Aussagen. Für eine intensivere
Betrachtung sei auf Standardwerke der Algebra, z.B. 
\autocite{lang2002algebra} oder \autocite{hartley1974rings}, verwiesen.

\begin{definition}[Integritätsbereich]
  Sei $R$ ein kommutativer Ring, so heißt $R$ \emph{Integritätsbereich},
  falls $R$ nullteilerfrei ist und $1\neq 0$ in $R$.
\end{definition}

\begin{definition}[Hauptidealbereich]
  Sei $R$ ein Integritätsbereich, so heißt $R$ \emph{Hauptidealbereich}
  oder \emph{Hauptidealring}, falls jedes Ideal $I\ideal R$ ein
  Hauptideal ist, d.h. ein $r \in R$ existiert mit
  $I = (r)$.
\end{definition}

\begin{definition}[irreduzibles Element]
  Sei $R$ ein Integritätsbereich, so heißt $p\in R$ 
  \emph{irreduzibel}, falls $p\neq 0$, $p\notin R^\times$ und
  gilt:
  \[ \forall a,b \in R:\ p \mid ab \ \Rightarrow\ 
    p\mid a \lor p\mid b\,.\]
\end{definition}

\begin{definition}[Faktorieller Ring]
  Ein Integritätsbereich $R$ heißt \emph{faktorieller Ring}, falls jedes
  Element $0\neq r \in R$ eine Zerlegung in irreduzible Faktoren besitzt, d.h.
  \[ r \speq= e a_1 \ldots a_n\]
  mit $e \in R^\times$, $n\geq 0$ und $a_i\in R$ irreduzibel und diese
  Zerlegung eindeutig ist, d.h.  sind 
  \[ e a_1 \ldots a_n \speq= f b_1 \ldots b_m \]
  zwei Zerlegungen mit $e, f\in R^\times$, $a_i,b_j$ irreduzibel, so
  folgt $n = m$ und $a_i = u_i b_{\pi(i)}$ für eine Permutation
  $\pi$ von $\{1,\ldots,n\}$ und Einheiten $a_i$ für alle $i=1,\ldots,n$.
\end{definition}

\begin{definition}[assoziierte Elemente]
  Sei $R$ ein Integritätsbereich. Zwei Elemente $r,s\in R$ heißen 
  \emph{assoziiert}, falls sie sich nur um eine Einheit unterscheiden, d.h. ein
  $u \in R^\times$ existiert mit $r = us$.
\end{definition}

\begin{bemerkung}
  Man sieht leicht ein, dass Assoziiertheit eine Äquivalentzrelation definiert.
\end{bemerkung}

\begin{satz}
  Integritätsbereiche sind faktorielle Ringe.
\end{satz}
\begin{proof}
  \autocite{}.
\end{proof}

\begin{definition}[Modul]
  Sei $R$ ein kommutativer Ring, so ist ein \emph{$R$-Modul}
  eine abelsche Gruppe $(M,+,0)$ zusammen mit einer 
  Abbildung 
  \[ \cdot:\ R \times M \to M,\ (r,m) \mapsto r\cdot m\,,\]
  sodass für alle $r, r' \in R$, $m,m' \im M$ gilt
  \begin{enumerate}
    \item $r\cdot (r'\cdot m) = (rr')\cdot m$,
    \item $(r+r')\cdot m = r\cdot m + r'\cdot m$ und 
    \item $r\cdot(m+m') = r\cdot m + r\cdot m'$.
  \end{enumerate}
\end{definition}


\begin{definition}[zyklischer Modul]
  Ein $R$-Modul $M$ heißt \emph{zyklisch}, falls
  ein $x\in M$ existiert, so dass
  \[ M = xR\,.\]
\end{definition}

\begin{definition}[Annihilator]
  Sei $M$ ein $R$-Modul. Für $S\subset M$ heißt
  \[ \Ann_R(S) := \{ r \in R \mid sr = 0\ \forall s\in S\}\]
  der \emph{Annihilator von $S$ in $R$}. 
  Für $S= \{x\}$ schreibe $\Ann_R(x) := \Ann_R(\{x\})$.
\end{definition}

\begin{bemerkung}
  In mancher Literatur wird auch die Schreibweise $M = (x)$ für einen
  zyklischen Modul benutzt, jedoch suggeriert $(x)$ ein Ideal in $R$ zu
  bezeichnen. Da dies im Allgemeinen nicht der Fall ist, verzichten wir auf
  diese Schreibweise.
\end{bemerkung}

\begin{bemerkung}
  Man spricht in obiger Definition auch vom \emph{Annihilator-Ideal}, da in der
  Tat $\Ann_R(S)$ ein Ideal in $R$ ist. Insbesondere, falls 
  $M = xR$ ein zyklischer $R$-Modul über einem Hauptidealbereich $R$ ist, so
  ist 
  \[ \Ann_R x \speq= (r)\]
  für ein $r\in R$.
\end{bemerkung}


\begin{lemma}
  Sei $M = xR$ ein zyklischer $R$-Modul. Dann gilt
  \[M \cong R\big/\Ann_Rx\]
  als $R$-Moduln und dieser Isomorphismus ist kanonisch.
\end{lemma}
\begin{proof}
  $\phi:R \to M,\ r \mapsto rx$ liefert einen surjektiven Homomorphismus von
  $R$-Moduln, dessen Kern gerade $\Ann_Rx$ ist. Damit folgt die Behauptung
  sofort aus dem Homomorphiesatz für Moduln.
\end{proof}

\begin{definition}[Exponent eines Moduls]
  Sei $M$ ein $R$-Modul. Existiert ein $r \in R$ mit
  \[ rM \speq= 0\,,\]
  so heißt $r$ \emph{Exponent von $M$}.
\end{definition}


Nun können wir ein zentrales Resultat über Moduln mit Exponenten beweisen, das
sich so auch beispielsweise in \autocite[Lemma 8.10]{hartley1974rings}
wiederfindet.

\begin{satz}[Zerlegungssatz für Moduln mit Exponenten]
  Seien $R$ ein Integritätsbereich und 
  $M$ ein nicht-trivialer $R$-Modul mit Exponent $r$, also $rM = 0$.
  Sei $r = e p_1^{\alpha_1}\ldots p_k^{\alpha_k}$ eine Zerlegung in irreduzible
  Faktoren, sodass die $p_i$ paarweise nicht assoziiert sind, 
  so existieren eindeutig bestimmte $R$-Moduln 
  $M_1,\ldots,M_k$ mit $p_i^{\alpha_i}M_i = 0$ für alle $i=1,\ldots,k$, sodass
  \[ M \speq= \bigoplus_{i=1}^k M_i\,.\]
\end{satz}
\begin{proof}
  
\end{proof}


\section{Vektorräume als Moduln}

\begin{definition}[$(V,\tau)$]
  Sei $\K$ ein Körper und $V$ ein $\K$-Vektorraum und 
  $\tau \in \End_\K(V)$, so können wir $V$ als $\K[x]$-Modul auffassen:
  \[ f(x) \cdot v \speq{:=} f(\tau)(v)\]
  für alle $f(x) \in \K[x]$ und $v\in V$.
  Nenne das Paar $(V,\tau)$ \emph{$\K[x]$-Modul bzgl. $\tau$}.
\end{definition}

\begin{notation}
  Sei $\tau\in \End_\K(V)$.
  \begin{itemize}
  \item Es bezeichne $\mu_\tau$ das Minimalpolynom von 
    $\tau$, also das normierte Polynom kleinsten Grades $f(x)\in \K[x]$ mit 
    $f(\tau) = 0$.
  \item Ferner schreibe $\chi_\tau$ für das charakteristische Polynom von 
    $\tau$, also $\chi_\tau(x) := \det(x \id_V - \tau) \in \K[x]$.
  \end{itemize}
\end{notation}


\begin{bemerkung}
  Ist $\K  = F :=\F_q$ ein endlicher Körper, 
  $V = E := \F_{q^n}$ eine Körpererweiterung
  von Grad $n$ und 
  \[\tau = \sigma: \funcdef{E & \to & E\\
    v &\mapsto & v^q}\]
  der Frobenius von $E$, so ist
  \[ \mu_\tau(x) \ =\ \chi_\tau(x) \ =\ x^n - 1\,,\]
  denn: Es ist klar, dass $n = \deg \chi_\tau$ und da nach dem Satz von
  Cayley-Hamilton ist $\sigma$ Nullstelle von $\chi_\tau$. Daher teilt
  $\mu_\tau$ das charakteristische Polynom. Jedoch kennen wir das
  Minimalpolynom von $\tau$: Nach Dedekinds-Unabhängigkeitslemma ist 
  $\id_E,\sigma,\ldots,\sigma^{n-1}$ linear unabhänig über $E$, also insbesondere
  über $F$, und $\sigma^n = \id_E$.\marginpar{References!}
\end{bemerkung}


\begin{definition}[$\tau$-Ordnung, Teilmodul]
  Sei $(V,\tau)$ ein $\K[x]$-Modul. Zu jedem $v \in V$ betrachte den
  $\K[x]$-Modulhomomorphismus
  \[ \psi_v: \funcdef{\K[x] & \to & V \\
    f(x) & \mapsto & f(x)\cdot v }  \]
  Sei ferner $\dim V < \infty$.
  \begin{enumerate}
    \item Ist $\ker\psi_v = (g(x))$ für $g(x)\in \K[x]$ normiert, so heißt
      $g(x)$ \emph{$\tau$-Ordnung von $v$}\@. Ferner ist $g(x)$ eindeutig.
      Schreibe $\Ord_\tau(v) := g(x)$.
    \item $\K[\tau]\cdot v := \im{\psi_v}$ heißt der von \emph{$v$ erzeugte
      $\K[x]$-Teilmodul von $V$}.
  \end{enumerate}
\end{definition}
\marginpar{Eindeutigkeit!}


\begin{notation}
  Für $\K = \F_q$ einen endlichen Körper, $V = E \mid \F_q$ eine 
  Körpererweiterung und $\tau = \sigma$ den Frobenius-Endomorphismus schreibe
  \[ \Ord_q := \Ord_\tau \]
  und bezeichne $\Ord_q$ mit \emph{$q$-Ordnung}.
\end{notation}

\begin{lemma}
  \label{lemma:eigenschaften_tau_ordnung}
  Sei $(V,\tau)$ ein $\K[x]$-Modul. Ferner seien
  $u,v\in V$ mit $g(x) := \Ord_\tau(u)$, $h(x) := \Ord_\tau(v)$ und 
  $f(x) \in \K[x]$. Dann gilt
  \begin{enumerate}
    \item $\Ord_\tau(f(x)\cdot u) = \frac{g(x)}{\ggT(f(x),g(x))}$.
    \item $\Ord_\tau(u+v) = g(x)h(x)$, falls $\ggT(g,h) = 1$.
  \end{enumerate}
\end{lemma}
\begin{proof}
  \begin{enumerate}
    \item \TODO
    \item \TODO
  \end{enumerate}
\end{proof}

\begin{lemma}
  Sei $(V,\tau)$ ein $\K[x]$-Modul. Sei $v\in V$. Dann gilt:
  \[ \dim_\K( \K[x]\cdot v ) \speq= \deg( \Ord_\tau(v) )\,.\]
\end{lemma}
\begin{proof}
  Nach dem Homomorphiesatz gilt: \marginpar{References!}
  $ \im\psi_v \cong \K[x] \big/ \ker \psi_v$.
\end{proof}


\begin{definition}[zyklischer Modul]
  $(V,\tau)$ heißt \emph{zyklischer $\K[x]$-Modul bzgl. $w$}, falls es ein 
  $w\in \K$ gibt, sodass $K[\tau]\cdot w = V$.
\end{definition}


\begin{satz}
  Es gilt:
  \[ (V,\tau) \text{ ist ein zyklischer Modul} \quad\Leftrightarrow\quad
    \mu_\tau = \chi_\tau\]
\end{satz}
\begin{proof}
  Fassen wir zunächst ein paar einfache Tatsachen zusammen:
  Ist $u \in V$, so haben wir 
  \[ \dim(\K[x]\cdot v) = \deg( \Ord_\tau(v) ) \speq\leq 
    \deg\mu_\tau \speq\leq \deg \chi_\tau \]
  und 
  \[ \Ord_\tau (v) \speq\mid \mu_\tau \speq\mid \chi_\tau \,,\]
  wobei die erste Teilbarkeitsrelation per definitionem erfüllt ist und die
  zweite gerade der Satz von Cayley-Hamilton ist.
  Damit kommen wir zum direkten Beweis:
  \begin{description}
    \item["`$\Rightarrow$"'] Sei $V$ also zyklisch bzgl. $w$, so ist dies nach
      obigem äquivalent zu $\deg(\Ord_\tau(w)) = n$. Daraus folgt aber sofort
      $\mu_t = \chi_\tau$, da beide normiert sind.
    \item["`$\Leftarrow$"'] Zunächst sei behauptet, dass es stets ein 
      $w \in V$ gibt mit $\Ord_\tau(w) = \mu_\tau$. Sei dazu 
      $\mu_\tau(x) = \prod_{i=1}^r p_i(x)^{a_i}$ die Zerlegung in irreduzible
      Faktoren über $\K[x]$, so existieren $w_i \in V$ mit
      $\Ord_\tau(w_i) = p_i^{a_i}$. Andernfalls hätten wir einen Widerspruch 
      zum Minimalpolynom von $\tau$!
      Nach \autoref{lemma:eigenschaften_tau_ordnung} ist dann aber 
      $w := \sum_{i=1}^r w_i$ ein Element in $V$ mit $\tau$-Ordnung $\mu_\tau$.

      Ist dann also $\mu_\tau = \chi_\tau$, so hat obiges $w$ genau
      $\tau$-Ordnung $\chi_\tau$; erzeugt also $V$ als $\K[x]$-Modul.
  \end{description}
\end{proof}

Nun wollen wir spezielle Untermoduln von $V$ betrachten, welche uns guten
Aufschluss über die Struktur von $V$ geben können:

\begin{notation}
  Seien $(V,\tau)$ ein $\K[x]$-Modul und $g(x) \in \K[x]$.
  Definiere
  \[ V_g \speq{:=} \{ v \in V \mid g(x)\cdot v = 0 \}\,.\]
\end{notation}

Zunächst ist klar, dass $V_g \neq 0$ nur für $g$ Teiler von $\mu_\tau$ gelten
kann. Damit können wir folgende "`Rechenregeln"' formulieren:

\begin{lemma}
  \label{lemma:moduln:ueber_schnitt_und_vereinigung_von_v_g}
  Seien $g(x), h(x) \in \K[x]$ mit $g,h \mid \mu_\tau$. Dann gilt:
  \begin{enumerate}
    \item $V_g \cap V_h \speq= V_{\ggT(g,h)}$
    \item $V_g + V_h \speq= V_{\kgV(g,h)}$
  \end{enumerate}
\end{lemma}
\begin{proof}
  Per definitionem ist klar, dass für $v \in V_g$ gerade
  $\Ord_\tau(v) \mid g$. Also können wir $V_g$ auch wie folgt auffassen:
  \[ V_g \speq= \{ v\in V:\ \Ord_\tau(v) \mid g\} \,,\]
  Damit sind die Behautungen nach \cref{lemma:eigenschaften_tau_ordnung} klar,
  denn für $v \in V$ gilt:
  \[ v\in V_g \cap V_h \speq\Leftrightarrow 
    \Ord_\tau(v) \mid g \land \Ord_\tau(v) \mid h \speq\Leftrightarrow
    \Ord_\tau(v) \mid \ggT(g,h) \speq\Leftrightarrow v \in V_{\ggT(g,h)}\]
  und ebenso
  \[ v \in V_g + V_h \speq\Leftrightarrow 
    \Ord_\tau(v) \mid g \lor \Ord_\tau(v) \mid h \speq\Leftrightarrow
    \Ord_\tau(v) \mid \kgV(g,h) \speq\Leftrightarrow v \in V_{\kgV(g,h)}\,.\]
\end{proof}

Da wir letztlich zyklische Moduln und darin Untermoduln untersuchen wollen, ist
brauchen wir noch ein Lemma, das garantiert, dass auch die Untermoduln von
zyklischen Moduln wieder zyklisch sind.

\begin{lemma}
  \label{lemma:untermoduln_bleiben_zyklisch}
  Sei $R$ ein Hauptidealbereich. Ferner seien $V$ ein zyklischer $R$-Modul und
  $W \subseteq V$ ein $R$-Untermodul. Dann ist auch $W$ zyklisch.
\end{lemma}
\begin{proof}
\TODO
\marginpar{References!}
\end{proof}


\begin{satz}
  \label{satz:moduln_ueber_v_g}
  Sei $(V,\tau)$ ein zyklischer Modul mit $\dim(V) = n$. Sei ferner 
  $g(x)\in \K[x]$ normiert mit $g\mid \mu_\tau$. Dann gilt:
  \begin{enumerate}
    \item $V_g$ ist ein $\K[x]$-Teilmodul von $V$.
    \item Alle $\K[x]$-Teilmoduln von $V$ sind von dieser Form.
    \item $V_g$ ist zyklisch bzgl. $\tau$ mit Minimalpolynom $g(x)$.
      Ferner ist $\dim(V_g) = \deg(g)$.
    \item Die Erzeuger von $V_g$ sind genau die Elemente $v\in V$ mit 
      $\Ord_\tau(v) = g$, d.h. für diese gilt
      $\K[x]\cdot v = V_g$.
  \end{enumerate}
\end{satz}
\begin{proof}
  \begin{enumerate}
    \item Klar: $0\in V_g$. Weiter seien $f(x) \in \K[x]$ und 
      $v \in V_g$ mit $h(x) := \Ord_\tau(v)$, 
      so ist nach \cref{lemma:eigenschaften_tau_ordnung}
      $\Ord_\tau(f(x)\cdot v) = \frac{h(x)}{\ggT(f,h)} \mid g(x)$.
      Damit liegt auch $f(x)\cdot v$ in $V_g$.
    \item Da $V$ ein zyklischer Modul ist, existiert ein $v\in V$ mit 
      $V = \K[x]\cdot v$. Sei nun $W\subseteq V$ ein Untermodul,
      so ist dieser nach \cref{lemma:untermoduln_bleiben_zyklisch} ebenfalls
      zyklisch; sagen wir zu $w \in W$. 

    \item
    \item
  \end{enumerate}
\end{proof}

\begin{kor}
  \label{kor:moduln_ueber_v_g}
  Sei $v \in V$ mit $\Ord_\tau(v) = g(x)$.
  Für $w \in V$ gilt dann:
  \[ w \in V_g \quad\Leftrightarrow\quad 
    w = f(x)\cdot v \text{ für ein } f(x) \in \K[x]_{< \deg g},\ \ggT(f,g)=1\]
\end{kor}
\begin{proof}
  Nach \thref{satz:moduln_ueber_v_g} ist $v$ Erzeuger von $V_g$, d.h.
  $V_g = \im \psi_v \cong \K[x]\big/(g(x))$, wobei letztere Isomorphie nach dem
  Homomorphiesatz gilt. Dies zeigt die Behauptung.
\end{proof}
